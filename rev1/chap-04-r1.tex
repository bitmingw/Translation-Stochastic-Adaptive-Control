\chapter{可控马尔可夫链模型} % Controlled Markov Chain Models

在本章将介绍有限可控马尔可夫模型下随机系统的一些基本结论。在观测和反馈法则只取决于反馈回路的情况下，状态过程被称为马尔可夫过程。本章将复习马尔可夫链的渐进性质，并简要介绍无限状态马尔可夫链。最后，本章将提出一个在某些情形下把一个连续时间马尔可夫过程转化为离散时间马尔可夫过程的方法。我们通过一个排序系统讲解此方法。

\section{一个例子}

迄今为止状态变量的取值范围均为$R^n$，但在很多情况下，让状态只能取一个有限集合的数值是更有利的。下面通过一个例子来说明。

有这样一台机器，在时刻$k$的状态由$x_k$来描述，$x_k$根据机器是否正常运转会返回1或者2。现在假定不允许从外界对机器施加控制，机器处于自治状态。若在$k$时刻机器正常运行，则$x_k = 1$，且它有一定的概率$q > 0$会在下一时刻出错，也就是$x_{k+1} = 2$,同时，有$1 - q$的概率它会维持正常运行的状态，即$x_{k+1} = 1$。若假设$q$与先前的状态$x_{k-1},...x_0$无关，并且出错的机器会一直保持错误的状态（当$x_k = 2$时$x_{k+1} = 2$的概率为1），则称$\{x_k, k \ge 0\}$是一个马尔可夫链。它的转移概率由矩阵$P = P\{P_ij\}$描述：
\begin{equation}
\begin{bmatrix}
1-q & q \\
0 & 1
\end{bmatrix}. \label{eq:4.1.1}
\end{equation}
转移概率矩阵的所有元素均为非负值，且每一行各元素之和为1，这样的矩阵又称为随机矩阵。

马尔可夫性质由下式表示：
\begin{equation}
Prob\{x_{k+1} = j \vert x_k = i, x_{k-1},...,x_0\} = P_ij, \quad i,j \in \{1,2\}. \label{eq:4.1.2}
\end{equation}

% ==== End of Page 35 ====

下面我们引入两个控制动作。设$u_k^1$是$k$时刻机器工作的强度。当机器停止工作，轻度工作和重度工作时$u_k^1$的值分别取0，1和2。假设机器的工作强度越高，它崩溃的可能性就越大。$u_k^2$表示维护机器所需的投入，假设它仅可以取值0或1，越大的值代表需要越多的维护。维护可以降低机器崩溃的概率，并使崩溃的机器恢复正常状态。

这两个控制的结果，可以用如下的控制转移概率建模。定义$u_k ：= (u_k^1, u_k^2)$，则
\begin{align}
P\{x_{k+1} = 2 \vert x_k = 1, x_{k-1},...,u_k,u_{k-1}...\} &= q_1(u_k^1) - q_2(u_k^2), \nonumber \\
P\{x_{k+1} = 1 \vert x_k = 1, x_{k-1},...,u_k,u_{k-1}...\} &= 1 - [q_1(u_k^1) - q_2(u_k^2)], \nonumber \\
P\{x_{k+1} = 1 \vert x_k = 2, x_{k-1},...,u_k,u_{k-1}...\} &= q_2(u_k^2), \nonumber \\
P\{x_{k+1} = 2 \vert x_k = 2, x_{k-1},...,u_k,u_{k-1}...\} &= 1 - q_2(u_k^2) \label{eq:4.1.3}
\end{align}
与公式\eqref{eq:4.1.1}类似，它们可以用一个矩阵表示，即控制$u$的函数：
\begin{equation}
P(u^1, u^2) = 
\begin{bmatrix}
1 - q_1(u^1) + q_2(u^2) & q_1(u^1) - q_2(u^2) \\
q_2(u^2) & 1 - q_2(u^2)
\end{bmatrix} \label{eq:4.1.4}
\end{equation}
公式\eqref{eq:4.1.3}可以用下面的状态图表示
\setlength{\unitlength}{1cm}
\begin{picture}(12,4)
\end{picture}